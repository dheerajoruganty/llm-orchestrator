#!/bin/bash
cd /home/ubuntu/
sudo apt-get update
sudo apt-get install --reinstall docker.io -y
sudo apt-get install -y docker-compose
docker compose version
wget \
    https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh \
    && bash Miniconda3-latest-Linux-x86_64.sh -b \
    && rm -f Miniconda3-latest-Linux-x86_64.sh \
    && eval "$(/home/$USER/miniconda3/bin/conda shell.bash  hook)"\
    && conda init
source ~/.bashrc
git clone https://github.com/aws-samples/foundation-model-benchmarking-tool.git
cd foundation-model-benchmarking-tool
conda create --name fmbench_python311 -y python=3.11 ipykernel
conda activate fmbench_python311;
pip install -U fmbench
curl -s https://raw.githubusercontent.com/aws-samples/foundation-model-benchmarking-tool/main/copy_s3_content.sh | sh -s -- /tmp
echo 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 > /tmp/fmbench-read/scripts/hf_token.txt

